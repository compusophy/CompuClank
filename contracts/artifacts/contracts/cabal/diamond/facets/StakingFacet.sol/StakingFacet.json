{
  "_format": "hh-sol-artifact-1",
  "contractName": "StakingFacet",
  "sourceName": "contracts/cabal/diamond/facets/StakingFacet.sol",
  "abi": [
    {
      "inputs": [],
      "name": "CabalNotActive",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InsufficientBalance",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "TransferFailed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroAmount",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newBalance",
          "type": "uint256"
        }
      ],
      "name": "Staked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newBalance",
          "type": "uint256"
        }
      ],
      "name": "Unstaked",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getStakedBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        }
      ],
      "name": "getTotalStaked",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserStakedCabals",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getVotingPower",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "stake",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "deadline",
          "type": "uint256"
        },
        {
          "internalType": "uint8",
          "name": "v",
          "type": "uint8"
        },
        {
          "internalType": "bytes32",
          "name": "r",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "s",
          "type": "bytes32"
        }
      ],
      "name": "stakeWithPermit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "unstake",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60808060405234601557610b4d908161001a8239f35b5f80fdfe60806040526004361015610011575f80fd5b5f803560e01c80632f8899f3146106b15780635668b02e146105245780637b0472f0146103ee5780637e37731b146103c75780637f8054321461030e5780639e2c8a5b146100985763dbdad43214610067575f80fd5b3461009557604036600319011261009557602061008d6100856106f1565b600435610783565b604051908152f35b80fd5b5034610095576100a7366106db565b9081156102ff576100b7816107c0565b6005810160ff815460a01c1660038110156102eb576001036102dc576100dd33846108fb565b8085116102b45785916100f1868493610755565b936100fd8533886109ad565b600e810161010c888254610755565b90556101183387610a0c565b6001600160a01b038116610290575b5082876101f360a46001600160a01b038060046040519760208901967fa9059cbb0000000000000000000000000000000000000000000000000000000088523360248b015260448a01526044895261018060648a610707565b0154169654169460405193849160208301977f9e5d4c490000000000000000000000000000000000000000000000000000000089526024840152866044840152606060648401525180918160848501528484015e85838284010152601f801991011681010301601f198101835282610707565b51925af13d1561028b573d67ffffffffffffffff81116102775760405190610225601f8201601f191660200183610707565b81528560203d92013e5b156102685760405192835260208301527fffdaf13b1d96bfc2213355f353f84c19493e0681eb0df26f83d862acd266750a60403393a380f35b6004846312171d8360e31b8152fd5b602486634e487b7160e01b81526041600452fd5b61022f565b806102a7896102a26102ae948b610a65565b610755565b9088610abe565b5f610127565b6004867ff4d678b8000000000000000000000000000000000000000000000000000000008152fd5b6004856307dab7b360e31b8152fd5b602486634e487b7160e01b81526021600452fd5b600483631f2a200560e01b8152fd5b5034610095576020366003190112610095576004356001600160a01b03811681036103c35761033c9061095b565b604051908160208254918281520190819285526020852090855b8181106103ad575050508261036c910383610707565b604051928392602084019060208552518091526040840192915b818110610394575050500390f35b8251845285945060209384019390920191600101610386565b8254845260209093019260019283019201610356565b5080fd5b503461009557604036600319011261009557602061008d6103e66106f1565b6004356108fb565b5034610095576103fd366106db565b80929192156105155761040f836107c0565b90600582015460ff8160a01c166003811015610501576001036104f257602082610483926001600160a01b03600487015416876001600160a01b036040518097819682956323b872dd60e01b845233600485016001600160a01b036040929594938160608401971683521660208201520152565b0393165af19081156104e75784916104b8575b50156104a9576104a69293610805565b80f35b6004836312171d8360e31b8152fd5b6104da915060203d6020116104e0575b6104d28183610707565b81019061073d565b5f610496565b503d6104c8565b6040513d86823e3d90fd5b6004846307dab7b360e31b8152fd5b602485634e487b7160e01b81526021600452fd5b600482631f2a200560e01b8152fd5b503461067b5760c036600319011261067b57600435906024356064359060ff821680920361067b5780156106a25761055b846107c0565b916005830190815460ff8160a01c16600381101561068e5760010361067f576001600160a01b031690813b1561067b575f9160e4839260405194859384927fd505accf0000000000000000000000000000000000000000000000000000000084523360048501523060248501528960448501526044356064850152608484015260843560a484015260a43560c48401525af180156106705761065a575b50546004838101546040516323b872dd60e01b815233928101929092526001600160a01b039081166024830152604482018490529091602091839160649183918991165af19081156104e75784916104b85750156104a9576104a69293610805565b6106679194505f90610707565b5f9260206105f8565b6040513d5f823e3d90fd5b5f80fd5b6307dab7b360e31b5f5260045ffd5b634e487b7160e01b5f52602160045260245ffd5b631f2a200560e01b5f5260045ffd5b3461067b57602036600319011261067b576020600e6106d16004356107c0565b0154604051908152f35b604090600319011261067b576004359060243590565b602435906001600160a01b038216820361067b57565b90601f8019910116810190811067ffffffffffffffff82111761072957604052565b634e487b7160e01b5f52604160045260245ffd5b9081602091031261067b5751801515810361067b5790565b9190820391821161076257565b634e487b7160e01b5f52601160045260245ffd5b9190820180921161076257565b906001600160a01b036107aa61079983856108fb565b926107a48186610a65565b94610a0c565b166107bc57906107b991610776565b90565b5090565b60405160208101917fc61520f0fc87f37c054c240fb12fa829a873c4a7f3a227d3cdaf38f732a45b0d83526040820152604081526107ff606082610707565b51902090565b909161081133836108fb565b600e61081d8583610776565b926108298433876109ad565b01610835858254610776565b9055156108ae575b6108473383610a0c565b6001600160a01b03811661088a575b5060405192835260208301527f17700ceb1658b18206f427c1578048e87504106b14ec69e9b4586d9a95174a3260403393a3565b806108a18561089c6108a89487610a65565b610776565b9084610abe565b5f610856565b6108b73361095b565b80546801000000000000000081101561072957600181018083558110156108e75783915f5260205f20015561083d565b634e487b7160e01b5f52603260045260245ffd5b906040519060208201927f8558c73f0b9098e6be43e479b1cf30236e7e64287529940c5fdd38ab47be3e09845260408301526bffffffffffffffffffffffff199060601b16606082015260548152610954607482610707565b5190205490565b60405160208101917f286c44e1adb37baad1a43e591cf328daa08f091c9031a161720cadffabab900383526bffffffffffffffffffffffff199060601b166040820152603481526107ff605482610707565b906040519060208201927f8558c73f0b9098e6be43e479b1cf30236e7e64287529940c5fdd38ab47be3e09845260408301526bffffffffffffffffffffffff199060601b16606082015260548152610a06607482610707565b51902055565b906040519060208201927fc3de27a01aa54ffcb04f207e8a4f4a16b583945f9cf1c6868757ca4e0e693152845260408301526bffffffffffffffffffffffff199060601b16606082015260548152610954607482610707565b906040519060208201927f0d5b18ea51234f5557964678168b512e7844d6b8406c15c9ac0ae675917d830f845260408301526bffffffffffffffffffffffff199060601b16606082015260548152610954607482610707565b906040519060208201927f0d5b18ea51234f5557964678168b512e7844d6b8406c15c9ac0ae675917d830f845260408301526bffffffffffffffffffffffff199060601b16606082015260548152610a0660748261070756fea264697066735822122051a4f86752fdd3a03a8d49937596a8fd9efeeffc23e2a6581bb80fbc832242fd64736f6c634300081a0033",
  "deployedBytecode": "0x60806040526004361015610011575f80fd5b5f803560e01c80632f8899f3146106b15780635668b02e146105245780637b0472f0146103ee5780637e37731b146103c75780637f8054321461030e5780639e2c8a5b146100985763dbdad43214610067575f80fd5b3461009557604036600319011261009557602061008d6100856106f1565b600435610783565b604051908152f35b80fd5b5034610095576100a7366106db565b9081156102ff576100b7816107c0565b6005810160ff815460a01c1660038110156102eb576001036102dc576100dd33846108fb565b8085116102b45785916100f1868493610755565b936100fd8533886109ad565b600e810161010c888254610755565b90556101183387610a0c565b6001600160a01b038116610290575b5082876101f360a46001600160a01b038060046040519760208901967fa9059cbb0000000000000000000000000000000000000000000000000000000088523360248b015260448a01526044895261018060648a610707565b0154169654169460405193849160208301977f9e5d4c490000000000000000000000000000000000000000000000000000000089526024840152866044840152606060648401525180918160848501528484015e85838284010152601f801991011681010301601f198101835282610707565b51925af13d1561028b573d67ffffffffffffffff81116102775760405190610225601f8201601f191660200183610707565b81528560203d92013e5b156102685760405192835260208301527fffdaf13b1d96bfc2213355f353f84c19493e0681eb0df26f83d862acd266750a60403393a380f35b6004846312171d8360e31b8152fd5b602486634e487b7160e01b81526041600452fd5b61022f565b806102a7896102a26102ae948b610a65565b610755565b9088610abe565b5f610127565b6004867ff4d678b8000000000000000000000000000000000000000000000000000000008152fd5b6004856307dab7b360e31b8152fd5b602486634e487b7160e01b81526021600452fd5b600483631f2a200560e01b8152fd5b5034610095576020366003190112610095576004356001600160a01b03811681036103c35761033c9061095b565b604051908160208254918281520190819285526020852090855b8181106103ad575050508261036c910383610707565b604051928392602084019060208552518091526040840192915b818110610394575050500390f35b8251845285945060209384019390920191600101610386565b8254845260209093019260019283019201610356565b5080fd5b503461009557604036600319011261009557602061008d6103e66106f1565b6004356108fb565b5034610095576103fd366106db565b80929192156105155761040f836107c0565b90600582015460ff8160a01c166003811015610501576001036104f257602082610483926001600160a01b03600487015416876001600160a01b036040518097819682956323b872dd60e01b845233600485016001600160a01b036040929594938160608401971683521660208201520152565b0393165af19081156104e75784916104b8575b50156104a9576104a69293610805565b80f35b6004836312171d8360e31b8152fd5b6104da915060203d6020116104e0575b6104d28183610707565b81019061073d565b5f610496565b503d6104c8565b6040513d86823e3d90fd5b6004846307dab7b360e31b8152fd5b602485634e487b7160e01b81526021600452fd5b600482631f2a200560e01b8152fd5b503461067b5760c036600319011261067b57600435906024356064359060ff821680920361067b5780156106a25761055b846107c0565b916005830190815460ff8160a01c16600381101561068e5760010361067f576001600160a01b031690813b1561067b575f9160e4839260405194859384927fd505accf0000000000000000000000000000000000000000000000000000000084523360048501523060248501528960448501526044356064850152608484015260843560a484015260a43560c48401525af180156106705761065a575b50546004838101546040516323b872dd60e01b815233928101929092526001600160a01b039081166024830152604482018490529091602091839160649183918991165af19081156104e75784916104b85750156104a9576104a69293610805565b6106679194505f90610707565b5f9260206105f8565b6040513d5f823e3d90fd5b5f80fd5b6307dab7b360e31b5f5260045ffd5b634e487b7160e01b5f52602160045260245ffd5b631f2a200560e01b5f5260045ffd5b3461067b57602036600319011261067b576020600e6106d16004356107c0565b0154604051908152f35b604090600319011261067b576004359060243590565b602435906001600160a01b038216820361067b57565b90601f8019910116810190811067ffffffffffffffff82111761072957604052565b634e487b7160e01b5f52604160045260245ffd5b9081602091031261067b5751801515810361067b5790565b9190820391821161076257565b634e487b7160e01b5f52601160045260245ffd5b9190820180921161076257565b906001600160a01b036107aa61079983856108fb565b926107a48186610a65565b94610a0c565b166107bc57906107b991610776565b90565b5090565b60405160208101917fc61520f0fc87f37c054c240fb12fa829a873c4a7f3a227d3cdaf38f732a45b0d83526040820152604081526107ff606082610707565b51902090565b909161081133836108fb565b600e61081d8583610776565b926108298433876109ad565b01610835858254610776565b9055156108ae575b6108473383610a0c565b6001600160a01b03811661088a575b5060405192835260208301527f17700ceb1658b18206f427c1578048e87504106b14ec69e9b4586d9a95174a3260403393a3565b806108a18561089c6108a89487610a65565b610776565b9084610abe565b5f610856565b6108b73361095b565b80546801000000000000000081101561072957600181018083558110156108e75783915f5260205f20015561083d565b634e487b7160e01b5f52603260045260245ffd5b906040519060208201927f8558c73f0b9098e6be43e479b1cf30236e7e64287529940c5fdd38ab47be3e09845260408301526bffffffffffffffffffffffff199060601b16606082015260548152610954607482610707565b5190205490565b60405160208101917f286c44e1adb37baad1a43e591cf328daa08f091c9031a161720cadffabab900383526bffffffffffffffffffffffff199060601b166040820152603481526107ff605482610707565b906040519060208201927f8558c73f0b9098e6be43e479b1cf30236e7e64287529940c5fdd38ab47be3e09845260408301526bffffffffffffffffffffffff199060601b16606082015260548152610a06607482610707565b51902055565b906040519060208201927fc3de27a01aa54ffcb04f207e8a4f4a16b583945f9cf1c6868757ca4e0e693152845260408301526bffffffffffffffffffffffff199060601b16606082015260548152610954607482610707565b906040519060208201927f0d5b18ea51234f5557964678168b512e7844d6b8406c15c9ac0ae675917d830f845260408301526bffffffffffffffffffffffff199060601b16606082015260548152610954607482610707565b906040519060208201927f0d5b18ea51234f5557964678168b512e7844d6b8406c15c9ac0ae675917d830f845260408301526bffffffffffffffffffffffff199060601b16606082015260548152610a0660748261070756fea264697066735822122051a4f86752fdd3a03a8d49937596a8fd9efeeffc23e2a6581bb80fbc832242fd64736f6c634300081a0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
