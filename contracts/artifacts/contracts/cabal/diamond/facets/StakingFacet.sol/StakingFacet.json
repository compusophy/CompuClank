{
  "_format": "hh-sol-artifact-1",
  "contractName": "StakingFacet",
  "sourceName": "contracts/cabal/diamond/facets/StakingFacet.sol",
  "abi": [
    {
      "inputs": [],
      "name": "CabalNotActive",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InsufficientBalance",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "TransferFailed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroAmount",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newBalance",
          "type": "uint256"
        }
      ],
      "name": "Staked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newBalance",
          "type": "uint256"
        }
      ],
      "name": "Unstaked",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getStakedBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        }
      ],
      "name": "getTotalStaked",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserStakedCabals",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getVotingPower",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "stake",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "deadline",
          "type": "uint256"
        },
        {
          "internalType": "uint8",
          "name": "v",
          "type": "uint8"
        },
        {
          "internalType": "bytes32",
          "name": "r",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "s",
          "type": "bytes32"
        }
      ],
      "name": "stakeWithPermit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "unstake",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60808060405234601557610bc2908161001a8239f35b5f80fdfe60806040526004361015610011575f80fd5b5f803560e01c80632f8899f3146106345780635668b02e146104c05780637b0472f0146103a35780637e37731b1461037c5780637f805432146102c35780639e2c8a5b146100985763dbdad43214610067575f80fd5b3461009557604036600319011261009557602061008d610085610674565b600435610706565b604051908152f35b80fd5b5034610095576100a73661065e565b9081156102b4576100b781610858565b6005810160ff815460a01c1660038110156102a057600103610291576100dd338461098e565b8085116102825785916100f18684936106d8565b936100fd853388610a36565b600e810161010c8882546106d8565b90556101183387610a90565b6001600160a01b03811661025e575b5082876101c160a46001600160a01b0380600460405197602089019663a9059cbb60e01b88523360248b015260448a01526044895261016760648a61068a565b015416965416946040519384916020830197639e5d4c4960e01b89526024840152866044840152606060648401525180918160848501528484015e85838284010152601f801991011681010301601f19810183528261068a565b51925af13d15610259573d67ffffffffffffffff811161024557604051906101f3601f8201601f19166020018361068a565b81528560203d92013e5b156102365760405192835260208301527fffdaf13b1d96bfc2213355f353f84c19493e0681eb0df26f83d862acd266750a60403393a380f35b6312171d8360e31b8452600484fd5b634e487b7160e01b86526041600452602486fd5b6101fd565b806102758961027061027c948b610ae4565b6106d8565b9088610b38565b5f610127565b631e9acf1760e31b8652600486fd5b6307dab7b360e31b8552600485fd5b634e487b7160e01b86526021600452602486fd5b631f2a200560e01b8352600483fd5b5034610095576020366003190112610095576004356001600160a01b0381168103610378576102f1906109e9565b604051908160208254918281520190819285526020852090855b818110610362575050508261032191038361068a565b604051928392602084019060208552518091526040840192915b818110610349575050500390f35b825184528594506020938401939092019160010161033b565b825484526020909301926001928301920161030b565b5080fd5b503461009557604036600319011261009557602061008d61039b610674565b60043561098e565b5034610095576103b23661065e565b80929192156104b1576103c483610858565b90600582015460ff8160a01c16600381101561049d5760010361048e576004838101546040516323b872dd60e01b815233928101929092526001600160a01b039081166024830152604482018490529091602091839160649183918991165af1908115610483578491610454575b501561044557610442929361089d565b80f35b6312171d8360e31b8352600483fd5b610476915060203d60201161047c575b61046e818361068a565b8101906106c0565b5f610432565b503d610464565b6040513d86823e3d90fd5b6307dab7b360e31b8452600484fd5b634e487b7160e01b85526021600452602485fd5b631f2a200560e01b8252600482fd5b50346105fe5760c03660031901126105fe57600435906024356064359060ff82168092036105fe578015610625576104f784610858565b916005830190815460ff8160a01c16600381101561061157600103610602576001600160a01b031690813b156105fe575f9160e48392604051948593849263d505accf60e01b84523360048501523060248501528960448501526044356064850152608484015260843560a484015260a43560c48401525af180156105f3576105dd575b50546004838101546040516323b872dd60e01b815233928101929092526001600160a01b039081166024830152604482018490529091602091839160649183918991165af190811561048357849161045457501561044557610442929361089d565b6105ea9194505f9061068a565b5f92602061057b565b6040513d5f823e3d90fd5b5f80fd5b6307dab7b360e31b5f5260045ffd5b634e487b7160e01b5f52602160045260245ffd5b631f2a200560e01b5f5260045ffd5b346105fe5760203660031901126105fe576020600e610654600435610858565b0154604051908152f35b60409060031901126105fe576004359060243590565b602435906001600160a01b03821682036105fe57565b90601f8019910116810190811067ffffffffffffffff8211176106ac57604052565b634e487b7160e01b5f52604160045260245ffd5b908160209103126105fe575180151581036105fe5790565b919082039182116106e557565b634e487b7160e01b5f52601160045260245ffd5b919082018092116106e557565b9061071082610858565b5f906040516001602082017ffa7666f901d98d7ddb6dca66654a4b44590f640f4803ecfa6cdcb1bcf243032b81528660408401526001600160601b03198660601b16928360608201526054815261076860748261068a565b5190205414158061084b575b6107c1575b50506001600160a01b036107a1610790848661098e565b9361079b8187610ae4565b95610a90565b166107bc576107b992916107b4916106f9565b6106f9565b90565b505090565b90915060405160208101917ff9cb95d6bcd70b8f41deb63f6a0973398a369f058485501ab1645d87ca423542835285604083015260608201526054815261080960748261068a565b51902054906007810154918281029281840414901517156106e5576006015490811561083757045f80610779565b634e487b7160e01b5f52601260045260245ffd5b5060068201541515610774565b60405160208101917fc61520f0fc87f37c054c240fb12fa829a873c4a7f3a227d3cdaf38f732a45b0d835260408201526040815261089760608261068a565b51902090565b90916108a9338361098e565b600e6108b585836106f9565b926108c1843387610a36565b016108cd8582546106f9565b905515610941575b6108df3383610a90565b6001600160a01b038116610922575b5060405192835260208301527f17700ceb1658b18206f427c1578048e87504106b14ec69e9b4586d9a95174a3260403393a3565b80610934856107b461093b9487610ae4565b9084610b38565b5f6108ee565b61094a336109e9565b8054680100000000000000008110156106ac576001810180835581101561097a5783915f5260205f2001556108d5565b634e487b7160e01b5f52603260045260245ffd5b906040519060208201927f8558c73f0b9098e6be43e479b1cf30236e7e64287529940c5fdd38ab47be3e09845260408301526001600160601b03199060601b166060820152605481526109e260748261068a565b5190205490565b60405160208101917f286c44e1adb37baad1a43e591cf328daa08f091c9031a161720cadffabab900383526001600160601b03199060601b1660408201526034815261089760548261068a565b906040519060208201927f8558c73f0b9098e6be43e479b1cf30236e7e64287529940c5fdd38ab47be3e09845260408301526001600160601b03199060601b16606082015260548152610a8a60748261068a565b51902055565b906040519060208201927fc3de27a01aa54ffcb04f207e8a4f4a16b583945f9cf1c6868757ca4e0e693152845260408301526001600160601b03199060601b166060820152605481526109e260748261068a565b906040519060208201927f0d5b18ea51234f5557964678168b512e7844d6b8406c15c9ac0ae675917d830f845260408301526001600160601b03199060601b166060820152605481526109e260748261068a565b906040519060208201927f0d5b18ea51234f5557964678168b512e7844d6b8406c15c9ac0ae675917d830f845260408301526001600160601b03199060601b16606082015260548152610a8a60748261068a56fea264697066735822122043bf1740d43fa98c7c7be3d7337279b9b9cf6a97bc9729cd31eab12374907dfc64736f6c634300081a0033",
  "deployedBytecode": "0x60806040526004361015610011575f80fd5b5f803560e01c80632f8899f3146106345780635668b02e146104c05780637b0472f0146103a35780637e37731b1461037c5780637f805432146102c35780639e2c8a5b146100985763dbdad43214610067575f80fd5b3461009557604036600319011261009557602061008d610085610674565b600435610706565b604051908152f35b80fd5b5034610095576100a73661065e565b9081156102b4576100b781610858565b6005810160ff815460a01c1660038110156102a057600103610291576100dd338461098e565b8085116102825785916100f18684936106d8565b936100fd853388610a36565b600e810161010c8882546106d8565b90556101183387610a90565b6001600160a01b03811661025e575b5082876101c160a46001600160a01b0380600460405197602089019663a9059cbb60e01b88523360248b015260448a01526044895261016760648a61068a565b015416965416946040519384916020830197639e5d4c4960e01b89526024840152866044840152606060648401525180918160848501528484015e85838284010152601f801991011681010301601f19810183528261068a565b51925af13d15610259573d67ffffffffffffffff811161024557604051906101f3601f8201601f19166020018361068a565b81528560203d92013e5b156102365760405192835260208301527fffdaf13b1d96bfc2213355f353f84c19493e0681eb0df26f83d862acd266750a60403393a380f35b6312171d8360e31b8452600484fd5b634e487b7160e01b86526041600452602486fd5b6101fd565b806102758961027061027c948b610ae4565b6106d8565b9088610b38565b5f610127565b631e9acf1760e31b8652600486fd5b6307dab7b360e31b8552600485fd5b634e487b7160e01b86526021600452602486fd5b631f2a200560e01b8352600483fd5b5034610095576020366003190112610095576004356001600160a01b0381168103610378576102f1906109e9565b604051908160208254918281520190819285526020852090855b818110610362575050508261032191038361068a565b604051928392602084019060208552518091526040840192915b818110610349575050500390f35b825184528594506020938401939092019160010161033b565b825484526020909301926001928301920161030b565b5080fd5b503461009557604036600319011261009557602061008d61039b610674565b60043561098e565b5034610095576103b23661065e565b80929192156104b1576103c483610858565b90600582015460ff8160a01c16600381101561049d5760010361048e576004838101546040516323b872dd60e01b815233928101929092526001600160a01b039081166024830152604482018490529091602091839160649183918991165af1908115610483578491610454575b501561044557610442929361089d565b80f35b6312171d8360e31b8352600483fd5b610476915060203d60201161047c575b61046e818361068a565b8101906106c0565b5f610432565b503d610464565b6040513d86823e3d90fd5b6307dab7b360e31b8452600484fd5b634e487b7160e01b85526021600452602485fd5b631f2a200560e01b8252600482fd5b50346105fe5760c03660031901126105fe57600435906024356064359060ff82168092036105fe578015610625576104f784610858565b916005830190815460ff8160a01c16600381101561061157600103610602576001600160a01b031690813b156105fe575f9160e48392604051948593849263d505accf60e01b84523360048501523060248501528960448501526044356064850152608484015260843560a484015260a43560c48401525af180156105f3576105dd575b50546004838101546040516323b872dd60e01b815233928101929092526001600160a01b039081166024830152604482018490529091602091839160649183918991165af190811561048357849161045457501561044557610442929361089d565b6105ea9194505f9061068a565b5f92602061057b565b6040513d5f823e3d90fd5b5f80fd5b6307dab7b360e31b5f5260045ffd5b634e487b7160e01b5f52602160045260245ffd5b631f2a200560e01b5f5260045ffd5b346105fe5760203660031901126105fe576020600e610654600435610858565b0154604051908152f35b60409060031901126105fe576004359060243590565b602435906001600160a01b03821682036105fe57565b90601f8019910116810190811067ffffffffffffffff8211176106ac57604052565b634e487b7160e01b5f52604160045260245ffd5b908160209103126105fe575180151581036105fe5790565b919082039182116106e557565b634e487b7160e01b5f52601160045260245ffd5b919082018092116106e557565b9061071082610858565b5f906040516001602082017ffa7666f901d98d7ddb6dca66654a4b44590f640f4803ecfa6cdcb1bcf243032b81528660408401526001600160601b03198660601b16928360608201526054815261076860748261068a565b5190205414158061084b575b6107c1575b50506001600160a01b036107a1610790848661098e565b9361079b8187610ae4565b95610a90565b166107bc576107b992916107b4916106f9565b6106f9565b90565b505090565b90915060405160208101917ff9cb95d6bcd70b8f41deb63f6a0973398a369f058485501ab1645d87ca423542835285604083015260608201526054815261080960748261068a565b51902054906007810154918281029281840414901517156106e5576006015490811561083757045f80610779565b634e487b7160e01b5f52601260045260245ffd5b5060068201541515610774565b60405160208101917fc61520f0fc87f37c054c240fb12fa829a873c4a7f3a227d3cdaf38f732a45b0d835260408201526040815261089760608261068a565b51902090565b90916108a9338361098e565b600e6108b585836106f9565b926108c1843387610a36565b016108cd8582546106f9565b905515610941575b6108df3383610a90565b6001600160a01b038116610922575b5060405192835260208301527f17700ceb1658b18206f427c1578048e87504106b14ec69e9b4586d9a95174a3260403393a3565b80610934856107b461093b9487610ae4565b9084610b38565b5f6108ee565b61094a336109e9565b8054680100000000000000008110156106ac576001810180835581101561097a5783915f5260205f2001556108d5565b634e487b7160e01b5f52603260045260245ffd5b906040519060208201927f8558c73f0b9098e6be43e479b1cf30236e7e64287529940c5fdd38ab47be3e09845260408301526001600160601b03199060601b166060820152605481526109e260748261068a565b5190205490565b60405160208101917f286c44e1adb37baad1a43e591cf328daa08f091c9031a161720cadffabab900383526001600160601b03199060601b1660408201526034815261089760548261068a565b906040519060208201927f8558c73f0b9098e6be43e479b1cf30236e7e64287529940c5fdd38ab47be3e09845260408301526001600160601b03199060601b16606082015260548152610a8a60748261068a565b51902055565b906040519060208201927fc3de27a01aa54ffcb04f207e8a4f4a16b583945f9cf1c6868757ca4e0e693152845260408301526001600160601b03199060601b166060820152605481526109e260748261068a565b906040519060208201927f0d5b18ea51234f5557964678168b512e7844d6b8406c15c9ac0ae675917d830f845260408301526001600160601b03199060601b166060820152605481526109e260748261068a565b906040519060208201927f0d5b18ea51234f5557964678168b512e7844d6b8406c15c9ac0ae675917d830f845260408301526001600160601b03199060601b16606082015260548152610a8a60748261068a56fea264697066735822122043bf1740d43fa98c7c7be3d7337279b9b9cf6a97bc9729cd31eab12374907dfc64736f6c634300081a0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
