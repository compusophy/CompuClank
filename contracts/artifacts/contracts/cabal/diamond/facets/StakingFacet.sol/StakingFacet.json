{
  "_format": "hh-sol-artifact-1",
  "contractName": "StakingFacet",
  "sourceName": "contracts/cabal/diamond/facets/StakingFacet.sol",
  "abi": [
    {
      "inputs": [],
      "name": "CabalNotActive",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InsufficientBalance",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "TransferFailed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroAmount",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newBalance",
          "type": "uint256"
        }
      ],
      "name": "Staked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newBalance",
          "type": "uint256"
        }
      ],
      "name": "Unstaked",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getStakedBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        }
      ],
      "name": "getTotalStaked",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserStakedCabals",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getVotingPower",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "stake",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "deadline",
          "type": "uint256"
        },
        {
          "internalType": "uint8",
          "name": "v",
          "type": "uint8"
        },
        {
          "internalType": "bytes32",
          "name": "r",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "s",
          "type": "bytes32"
        }
      ],
      "name": "stakeWithPermit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "cabalId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "unstake",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080806040523461001657610b24908161001c8239f35b600080fdfe6040608081526004908136101561001557600080fd5b6000803560e01c80632f8899f3146106745780635668b02e146104dd5780637b0472f0146103bc5780637e37731b146103955780637f805432146102de5780639e2c8a5b1461009d5763dbdad4321461006d57600080fd5b3461009a578160031936011261009a575061009360209261008c6106b4565b903561087c565b9051908152f35b80fd5b5091346102da576100ad3661069e565b92909183156102cc576100bf836108b9565b600581019160ff835460a01c1660038110156102b9576001036102ab576100e633866108fc565b80871161029c57866100f79161086f565b92610103843388610955565b600e830161011288825461086f565b905561011e33876109ad565b6001600160a01b0390808216610278575b508890865190808560209763a9059cbb60e01b898601523360248601528c60448601526044855261015f856106ca565b0154169354169087519086820192639e5d4c4960e01b845260248301528360448301526060606483015280519081608484015287855b838110610260575050509183826101cb60a482878583819a601f9d9a0101528a199a8b9101168101036084810184520182610718565b51925af1903d1561025a573d67ffffffffffffffff8111610247576101f985885193601f8401160183610718565b815288843d92013e5b156102395750825194855284015233927fffdaf13b1d96bfc2213355f353f84c19493e0681eb0df26f83d862acd266750a9190a380f35b83516312171d8360e31b8152fd5b634e487b7160e01b8a526041845260248afd5b50610202565b82810182015185820160a401528e9650899101610195565b8061028f8a61028a610296948c6109ff565b61086f565b9089610a51565b3861012f565b508351631e9acf1760e31b8152fd5b83516307dab7b360e31b8152fd5b634e487b7160e01b885260218252602488fd5b9051631f2a200560e01b8152fd5b8280fd5b5082903461009a576020918260031936011261039157356001600160a01b038116810361038c57906103108492610aa3565b908251808584549182815201908194845286842090845b818110610378575050508161033d910382610718565b83519485948186019282875251809352850193925b82811061036157505050500390f35b835185528695509381019392810192600101610352565b825484529288019260019283019201610327565b600080fd5b5080fd5b503461009a578160031936011261009a57506100936020926103b56106b4565b90356108fc565b509034610391576103cc3661069e565b9081156104cd576103dc816108b9565b92600584015460ff8160a01c1660038110156104ba576001036104aa578487015482516323b872dd60e01b815233818a019081526001600160a01b03928316602082810191909152604082018890529193919284929183918b9183906060010393165af19081156104a0578691610472575b50156104635750610460939450610775565b80f35b516312171d8360e31b81528590fd5b610493915060203d8111610499575b61048b8183610718565b81019061073a565b3861044e565b503d610481565b82513d88823e3d90fd5b81516307dab7b360e31b81528790fd5b634e487b7160e01b875260218852602487fd5b8251631f2a200560e01b81528590fd5b5090346103915760c0366003190112610391578235602435906064359260ff841680940361067057821561066157610514826108b9565b936005850180549160ff8360a01c16600381101561064e5760010361063e576001600160a01b0392831690813b1561063a57889060e48b838851958694859363d505accf60e01b855233908501523060248501528c60448501526044356064850152608484015260843560a484015260a43560c48401525af1801561063057610602575b50548786015483516323b872dd60e01b815233818b019081529184166001600160a01b03166020808401919091526040830188905290939092849291169082908a90829060600103925af19081156104a05786916104725750156104635750610460939450610775565b67ffffffffffffffff819892981161061d5783529584610598565b634e487b7160e01b825260418952602482fd5b84513d8a823e3d90fd5b8880fd5b83516307dab7b360e31b81528990fd5b634e487b7160e01b895260218a52602489fd5b51631f2a200560e01b81528590fd5b8480fd5b503461009a57602036600319011261009a5750600e610695602093356108b9565b01549051908152f35b604090600319011261038c576004359060243590565b602435906001600160a01b038216820361038c57565b6080810190811067ffffffffffffffff8211176106e657604052565b634e487b7160e01b600052604160045260246000fd5b6060810190811067ffffffffffffffff8211176106e657604052565b90601f8019910116810190811067ffffffffffffffff8211176106e657604052565b9081602091031261038c5751801515810361038c5790565b9190820180921161075f57565b634e487b7160e01b600052601160045260246000fd5b909161078133836108fc565b600e61078d8583610752565b92610799843387610955565b016107a5858254610752565b90551561081e575b6107b733836109ad565b6001600160a01b0381166107fa575b5060405192835260208301527f17700ceb1658b18206f427c1578048e87504106b14ec69e9b4586d9a95174a3260403393a3565b806108118561080c61081894876109ff565b610752565b9084610a51565b386107c6565b61082733610aa3565b8054680100000000000000008110156106e65760018101808355811015610859578391600052602060002001556107ad565b634e487b7160e01b600052603260045260246000fd5b9190820391821161075f57565b61088682826108fc565b906108a361089484836109ff565b936001600160a01b03926109ad565b166108b557906108b291610752565b90565b5090565b60405160208101917fc61520f0fc87f37c054c240fb12fa829a873c4a7f3a227d3cdaf38f732a45b0d83526040820152604081526108f6816106fc565b51902090565b906040519060208201927f8558c73f0b9098e6be43e479b1cf30236e7e64287529940c5fdd38ab47be3e09845260408301526001600160601b03199060601b1660608201526054815261094e816106ca565b5190205490565b906040519060208201927f8558c73f0b9098e6be43e479b1cf30236e7e64287529940c5fdd38ab47be3e09845260408301526001600160601b03199060601b166060820152605481526109a7816106ca565b51902055565b906040519060208201927fc3de27a01aa54ffcb04f207e8a4f4a16b583945f9cf1c6868757ca4e0e693152845260408301526001600160601b03199060601b1660608201526054815261094e816106ca565b906040519060208201927f0d5b18ea51234f5557964678168b512e7844d6b8406c15c9ac0ae675917d830f845260408301526001600160601b03199060601b1660608201526054815261094e816106ca565b906040519060208201927f0d5b18ea51234f5557964678168b512e7844d6b8406c15c9ac0ae675917d830f845260408301526001600160601b03199060601b166060820152605481526109a7816106ca565b60405160208101917f286c44e1adb37baad1a43e591cf328daa08f091c9031a161720cadffabab900383526001600160601b03199060601b166040820152603481526108f6816106fc56fea2646970667358221220e71ca402c97f2c975a5de966a2a10fc4d617034a2002acb275205dfef0e56a2d64736f6c63430008140033",
  "deployedBytecode": "0x6040608081526004908136101561001557600080fd5b6000803560e01c80632f8899f3146106745780635668b02e146104dd5780637b0472f0146103bc5780637e37731b146103955780637f805432146102de5780639e2c8a5b1461009d5763dbdad4321461006d57600080fd5b3461009a578160031936011261009a575061009360209261008c6106b4565b903561087c565b9051908152f35b80fd5b5091346102da576100ad3661069e565b92909183156102cc576100bf836108b9565b600581019160ff835460a01c1660038110156102b9576001036102ab576100e633866108fc565b80871161029c57866100f79161086f565b92610103843388610955565b600e830161011288825461086f565b905561011e33876109ad565b6001600160a01b0390808216610278575b508890865190808560209763a9059cbb60e01b898601523360248601528c60448601526044855261015f856106ca565b0154169354169087519086820192639e5d4c4960e01b845260248301528360448301526060606483015280519081608484015287855b838110610260575050509183826101cb60a482878583819a601f9d9a0101528a199a8b9101168101036084810184520182610718565b51925af1903d1561025a573d67ffffffffffffffff8111610247576101f985885193601f8401160183610718565b815288843d92013e5b156102395750825194855284015233927fffdaf13b1d96bfc2213355f353f84c19493e0681eb0df26f83d862acd266750a9190a380f35b83516312171d8360e31b8152fd5b634e487b7160e01b8a526041845260248afd5b50610202565b82810182015185820160a401528e9650899101610195565b8061028f8a61028a610296948c6109ff565b61086f565b9089610a51565b3861012f565b508351631e9acf1760e31b8152fd5b83516307dab7b360e31b8152fd5b634e487b7160e01b885260218252602488fd5b9051631f2a200560e01b8152fd5b8280fd5b5082903461009a576020918260031936011261039157356001600160a01b038116810361038c57906103108492610aa3565b908251808584549182815201908194845286842090845b818110610378575050508161033d910382610718565b83519485948186019282875251809352850193925b82811061036157505050500390f35b835185528695509381019392810192600101610352565b825484529288019260019283019201610327565b600080fd5b5080fd5b503461009a578160031936011261009a57506100936020926103b56106b4565b90356108fc565b509034610391576103cc3661069e565b9081156104cd576103dc816108b9565b92600584015460ff8160a01c1660038110156104ba576001036104aa578487015482516323b872dd60e01b815233818a019081526001600160a01b03928316602082810191909152604082018890529193919284929183918b9183906060010393165af19081156104a0578691610472575b50156104635750610460939450610775565b80f35b516312171d8360e31b81528590fd5b610493915060203d8111610499575b61048b8183610718565b81019061073a565b3861044e565b503d610481565b82513d88823e3d90fd5b81516307dab7b360e31b81528790fd5b634e487b7160e01b875260218852602487fd5b8251631f2a200560e01b81528590fd5b5090346103915760c0366003190112610391578235602435906064359260ff841680940361067057821561066157610514826108b9565b936005850180549160ff8360a01c16600381101561064e5760010361063e576001600160a01b0392831690813b1561063a57889060e48b838851958694859363d505accf60e01b855233908501523060248501528c60448501526044356064850152608484015260843560a484015260a43560c48401525af1801561063057610602575b50548786015483516323b872dd60e01b815233818b019081529184166001600160a01b03166020808401919091526040830188905290939092849291169082908a90829060600103925af19081156104a05786916104725750156104635750610460939450610775565b67ffffffffffffffff819892981161061d5783529584610598565b634e487b7160e01b825260418952602482fd5b84513d8a823e3d90fd5b8880fd5b83516307dab7b360e31b81528990fd5b634e487b7160e01b895260218a52602489fd5b51631f2a200560e01b81528590fd5b8480fd5b503461009a57602036600319011261009a5750600e610695602093356108b9565b01549051908152f35b604090600319011261038c576004359060243590565b602435906001600160a01b038216820361038c57565b6080810190811067ffffffffffffffff8211176106e657604052565b634e487b7160e01b600052604160045260246000fd5b6060810190811067ffffffffffffffff8211176106e657604052565b90601f8019910116810190811067ffffffffffffffff8211176106e657604052565b9081602091031261038c5751801515810361038c5790565b9190820180921161075f57565b634e487b7160e01b600052601160045260246000fd5b909161078133836108fc565b600e61078d8583610752565b92610799843387610955565b016107a5858254610752565b90551561081e575b6107b733836109ad565b6001600160a01b0381166107fa575b5060405192835260208301527f17700ceb1658b18206f427c1578048e87504106b14ec69e9b4586d9a95174a3260403393a3565b806108118561080c61081894876109ff565b610752565b9084610a51565b386107c6565b61082733610aa3565b8054680100000000000000008110156106e65760018101808355811015610859578391600052602060002001556107ad565b634e487b7160e01b600052603260045260246000fd5b9190820391821161075f57565b61088682826108fc565b906108a361089484836109ff565b936001600160a01b03926109ad565b166108b557906108b291610752565b90565b5090565b60405160208101917fc61520f0fc87f37c054c240fb12fa829a873c4a7f3a227d3cdaf38f732a45b0d83526040820152604081526108f6816106fc565b51902090565b906040519060208201927f8558c73f0b9098e6be43e479b1cf30236e7e64287529940c5fdd38ab47be3e09845260408301526001600160601b03199060601b1660608201526054815261094e816106ca565b5190205490565b906040519060208201927f8558c73f0b9098e6be43e479b1cf30236e7e64287529940c5fdd38ab47be3e09845260408301526001600160601b03199060601b166060820152605481526109a7816106ca565b51902055565b906040519060208201927fc3de27a01aa54ffcb04f207e8a4f4a16b583945f9cf1c6868757ca4e0e693152845260408301526001600160601b03199060601b1660608201526054815261094e816106ca565b906040519060208201927f0d5b18ea51234f5557964678168b512e7844d6b8406c15c9ac0ae675917d830f845260408301526001600160601b03199060601b1660608201526054815261094e816106ca565b906040519060208201927f0d5b18ea51234f5557964678168b512e7844d6b8406c15c9ac0ae675917d830f845260408301526001600160601b03199060601b166060820152605481526109a7816106ca565b60405160208101917f286c44e1adb37baad1a43e591cf328daa08f091c9031a161720cadffabab900383526001600160601b03199060601b166040820152603481526108f6816106fc56fea2646970667358221220e71ca402c97f2c975a5de966a2a10fc4d617034a2002acb275205dfef0e56a2d64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
